-- 1. Company table
CREATE TABLE Company (
    Company_ID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(100) NOT NULL,
    HQ_Address TEXT,
    Contact VARCHAR(50),
	Date_Created TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 2. Types table
CREATE TABLE Types (
    Type_ID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(50) NOT NULL,
    Details TEXT
);

-- 3. Way table
CREATE TABLE Way (
    Way_ID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(50) NOT NULL,
    Logo VARCHAR(255)
);

-- 4. Medicine table
CREATE TABLE Medicine (
    Medicine_ID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(100) NOT NULL,
    Company_ID INT NOT NULL,
    Type_ID INT,
    Way_ID INT,
    Dosage_Value VARCHAR(50) NOT NULL,
    Image VARCHAR(255),
    Price DECIMAL(10,2),
    Date_Created TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (Company_ID) REFERENCES Company(Company_ID) ON DELETE CASCADE,
    FOREIGN KEY (Type_ID) REFERENCES Types(Type_ID) ON DELETE SET NULL,
    FOREIGN KEY (Way_ID) REFERENCES Way(Way_ID) ON DELETE SET NULL
);

-- 5. Medicine_Details table
CREATE TABLE Medicine_Details (
    Details_ID INT AUTO_INCREMENT PRIMARY KEY,
    Medicine_ID INT,
    Ingredients TEXT,
    Indication TEXT,
    Pharmacology TEXT,
    Dosage_Administration TEXT,
    Interaction TEXT,
    FOREIGN KEY (Medicine_ID) REFERENCES Medicine(Medicine_ID) ON DELETE CASCADE
);

-- 6. Safety table
CREATE TABLE Safety (
    Safety_ID INT AUTO_INCREMENT PRIMARY KEY,
    Medicine_ID INT,
    Contradictions TEXT,
    Side_effects TEXT,
    Pregnancy_Lactation TEXT,
    Precaution TEXT,
    Special_Populations TEXT,
    Overdose TEXT,
    Storage_Conditions TEXT,
    FOREIGN KEY (Medicine_ID) REFERENCES Medicine(Medicine_ID) ON DELETE CASCADE
);

-- 7. Users table
CREATE TABLE Users (
    User_ID INT AUTO_INCREMENT PRIMARY KEY,
    Username VARCHAR(50) UNIQUE NOT NULL,
    Password VARCHAR(255) NOT NULL
);

-- 8. Admin table
CREATE TABLE Admin (
    Admin_ID INT AUTO_INCREMENT PRIMARY KEY,
    Username VARCHAR(50) UNIQUE NOT NULL,
    Password VARCHAR(255) NOT NULL,
    Email VARCHAR(100),
    Contact VARCHAR(20)
);

-- 9. Favorites table
CREATE TABLE Favorites (
    Favorite_ID INT AUTO_INCREMENT PRIMARY KEY,
    Medicine_ID INT,
    User_ID INT,
    FOREIGN KEY (Medicine_ID) REFERENCES Medicine(Medicine_ID) ON DELETE CASCADE,
    FOREIGN KEY (User_ID) REFERENCES Users(User_ID) ON DELETE CASCADE
);
